<html>

<head>
    <meta charset="utf-8">
    <title ng-bind="pagetitle"></title>
    <meta name="description" content="The Human Connection Project">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--    =================== Css Links Start ===========================-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.1/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css" />
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,400italic:latin|Open+Sans+Condensed:700:latin|Bad+Script::latin" type="text/css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="stylesheet" href="https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.css" />
    <link rel="stylesheet" href="https://api.mapbox.com/mapbox.js/plugins/leaflet-markercluster/v1.0.0/MarkerCluster.css" />
    <link rel="stylesheet" href="https://api.mapbox.com/mapbox.js/plugins/leaflet-markercluster/v1.0.0/MarkerCluster.Default.css" />
    <link rel="stylesheet" href="/static/css/custom.css" />
    <!--    =================== Css Links End ===========================-->
    <style>
        #highcharts-8yb0c7h-4{width: 300px!important;}
        .highcharts-container {position: relative;
    overflow: hidden;
    width: 645px!important;
    height: 400px;
    text-align: left;
    line-height: normal;
    z-index: 0;}
    </style>
</head>

<body>
    <!--     ===================================== header start ========================================-->
    <div class="ping-main">
        <div class="container">
            <div class="col-md-3">
                <a href="map.html"><img class="img-responsive logo" src="/static/images/logo.PNG" alt="Logo"></a>
            </div>
            <div class="col-md-6 center-div">
                <div class="col-md-2 padding-less border-lr"><a href="/"><i class="fa fa-globe" aria-hidden="true"></i>
                    <br>World map</a></div>
                <div class="col-md-2 padding-less"><a href="/persona"><i class="fa fa-user" aria-hidden="true"></i>
                    <br>Persona</a></div>
                <div class="col-md-4">
                    <div class="plus-button plusbtn"><img class="img-responsive" src="https://www.ping.earth/media/rainbow-circle.png" alt="Logo"> </div>
                    <div class="ping-circle1"> <i class="fa fa-circle circle1" aria-hidden="true"></i> <i class="fa fa-circle circle2" aria-hidden="true"></i> <i class="fa fa-circle circle3" aria-hidden="true"></i> <i class="fa fa-circle circle4" aria-hidden="true"></i> <i class="fa fa-circle circle5" aria-hidden="true"></i> <i class="fa fa-circle circle6" aria-hidden="true"></i> <i class="fa fa-circle circle7" aria-hidden="true"></i></div>
                        <div class="social-button ping0">
                        <div class="social-button facebook-button06 plusbtn">
                            <a class="angry sbtn" id='6'> <img class="img-responsive" src="/static/images/angry-im.png" alt="Logo"> <span class="starfont">Angry</span> </a>
                        </div>
                        <div class="social-button facebook-button03">
                            <a class="sad sbtn" id='2'> <img class="img-responsive" src="/static/images/sad.png" alt="Logo"> <span class="starfont">Sad</span> </a>
                        </div>
                        <div class="social-button facebook-button04">
                            <a class="change sbtn" id='4'> <img class="img-responsive" src="/static/images/change.png" alt="Logo"> <span class="starfont">Change</span> </a>
                        </div>
                        <div class="social-button facebook-button0">
                            <a class="Love sbtn" id='5'> <img class="img-responsive" src="/static/images/love.png" alt="Logo"> <span class="starfont">Love</span> </a>
                        </div>
                        <div class="social-button facebook-button05">
                            <a class="thankful sbtn" id='3'> <img class="img-responsive" src="/static/images/thankful.png" alt="Logo"> <span class="starfont">Thankful</span> </a>
                        </div>
                        <div class="social-button facebook-button01">
                            <a class="bliss sbtn" id='7'> <img class="img-responsive" src="/static/images/blissful.png" alt="Logo"> <span class="starfont">Blissful</span> </a>
                        </div>
                        <div class="social-button facebook-button02">
                            <a class="happy sbtn" id='1'> <img class="img-responsive" src="/static/images/happy.png" alt="Logo"> <span class="starfont">Happy</span> </a>
                        </div>
                         </div>



                </div>
                <div class="col-md-2 padding-less border-lr">
                    <a href="/stats"> <i class="fa fa-circle-o-notch" aria-hidden="true"></i>
                        <br/>Stats</a>
                </div>
                <div class="col-md-2 padding-less"><a href="/about"><i class="fa fa-info-circle" aria-hidden="true"></i>
                    <br/>About</a> </div>
            </div>
            <div class="col-md-3 text-right"> <i class="fa fa-arrow-circle-o-right" aria-hidden="true" style="font-size: 17px;margin-top: 17px;"></i> </div>
        </div>
    </div>
    <div class="main-statistics">
        <div class="container-fluid">
            <div class="content-wrapper">
                <!-- Main content -->
                <section class="content">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="row">
                                <!-- AREA CHART -->
                                <div class="box box-primary">
                                    <div class="box-header with-border">
                                        <h3 class="box-title text-center">Ping Details</h3>
                                        <div class="box-tools pull-right"> </div>
                                    </div>
                                    <div class="box-body">
                                        <div class="col-md-6">
                                            <div class="table-responsive">
                                                <table class="table table-bordered table-sm table-hover" style="border: 0px solid #ddd!important;">
                                                    <thead>
                                                        <tr>
                                                            <th>TOTAL PINGS</th>
                                                            <th>LAST WEEK</th>
                                                            <th>LAST DAY</th>
                                                            <th>LAST HOUR</th>
                                                            <th>HIGHEST PINGS</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td><span id='ttp'></span></td>
                                                            <td><span id='lwp'></span></td>
                                                            <td><span id='ldp'></span></td>
                                                            <td><span id='hp'></span></td>
                                                            <td style="color: #23b985;">
                                                                <div><i class="fa fa-circle " aria-hidden="true" style="color: #5bff15;"></i>&nbsp;&nbsp;Hope</div>
                                                                <div><i class="fa fa-star" aria-hidden="true" style="color: #23b985;"></i>&nbsp;&nbsp;Tired</div>
                                                                <div><i class="fa fa-star" aria-hidden="true" style="color: #23b985;"></i>&nbsp;&nbsp;Sad</div>
                                                                <div><i class="fa fa-star" aria-hidden="true" style="color: #68f3ff;"></i>&nbsp;&nbsp;Thanks</div>
                                                                <div><i class="fa fa-star" aria-hidden="true" style="color: #f58daa;"></i>&nbsp;&nbsp;Love</div>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                        <div class="col-md-6"> ============================= Emty Div ===================================== </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12 ">
                            <div class="row">
                                <div class="box box-info">
                                    <div class="box-header with-border">
                                        <h3 class="box-title"> &nbsp;<i class="fa fa-calendar-o" aria-hidden="true"></i> &nbsp; &nbsp;Select days range to view statistics</h3>
                                        <div class="box-tools pull-right">
                                            <div class="dropdown" style="margin-top: -3px;">
                                                <button id="monthsDrop" style="border-style:none; width: 100%" class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" style="width:100%"> Choose Year <span class="caret"></span> <i class="down-arrow pull-right"></i> </button>
                                                <ul class="dropdown-menu" aria-labelledby="monthsDrop">
                                                    <li><a href="#">2018</a></li>
                                                    <li><a href="#">2017</a></li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="box-body">
                                        <div class="col-md-6 padding-less">
                                            <div class="box box-info">
                                                <div class="box-header with-border" style="background-color: #1322397a;">
                                                    <h3 class="box-title">&nbsp;<i class="fa fa-circle-o" aria-hidden="true"></i>&nbsp;Total Pings Text Data</h3> </div>
                                                <div class="box-body">
                                                    <div id="bchart" style='min-width: 250px; max-width: 800px;'> </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6 padding-less">
                                            <div class="box box-info">
                                                <div class="box-header with-border" style="background-color: #1322397a;">
                                                    <h3 class="box-title">&nbsp;<i class="fa fa-pie-chart" aria-hidden="true"></i>&nbsp;Emotional Pie Chart</h3> </div>
                                                <div class="box-body">
                                                    <div id="pchart" style='min-width: 220px; max-width: 650px;'> </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12 padding-less">
                                            <div class="box box-info">
                                                <div class="box-header with-border" style="background-color: #1322397a;">
                                                    <h3 class="box-title">&nbsp;<i class="fa fa-cloud" aria-hidden="true"></i>&nbsp;Word Cloud</h3> </div>
                                                <div class="box-body">
                                                    <div id="wcchart" style='min-width: 250px; max-width: 800px;'> </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6"> ============================= Emty Div =====================================</div>
                                        <!--
                                    <div class="chart">
                                        <canvas id="lineChart" height="250"></canvas>
                                    </div>
--></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
            <div class="clearfix"></div>
        </div>
    </div>
    <!--     ===================================== Footer End========================================-->
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
<script src="https://api.mapbox.com/mapbox.js/v3.1.1/mapbox.js"></script>
<script src="https://api.mapbox.com/mapbox.js/plugins/leaflet-markercluster/v1.0.0/leaflet.markercluster.js"></script>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/wordcloud.js"></script>
<script src="https://code.highcharts.com/modules/series-label.js"></script>
<script src="/static/js/neo.js"></script>
<script src="/static/js/parks.js"></script>
<script>
    $(document).ready(function () {
        $.ajax({
            url: '/api/v1/a/pings/graphs/wc/20170101/20180101'
            , type: 'GET'
            , contentType: 'application/json; charset=utf-8'
            , dataType: 'json'
            , success: function (data, status) {
                var lines = data['data']['wc'].split(/[,\. ]+/g)
                    , data = Highcharts.reduce(lines, function (arr, word) {
                        var obj = Highcharts.find(arr, function (obj) {
                            return obj.name === word;
                        });
                        if (obj) {
                            obj.weight += 1;
                        }
                        else {
                            obj = {
                                name: word
                                , weight: 1
                            };
                            arr.push(obj);
                        }
                        return arr;
                    }, []);
                Highcharts.chart('wcchart', {
                    series: [{
                        type: 'wordcloud'
                        , data: data
                        , name: 'Frequency'
		}]
                    , title: {
                        text: 'Ping Cloud'
                    }
                });
            }
            , async: false
        });
    });
    // Radialize the colors
    Highcharts.setOptions({
        colors: Highcharts.map(Highcharts.getOptions().colors, function (color) {
            return {
                radialGradient: {
                    cx: 0.5
                    , cy: 0.3
                    , r: 0.7
                }
                , stops: [
                [0, color]
                , [1, Highcharts.Color(color).brighten(-0.3).get('rgb')] // darken
            ]
            };
        })
    });
    // Build the chart
    Highcharts.chart('pchart', {
        chart: {
            plotBackgroundColor: null
            , plotBorderWidth: null
            , plotShadow: false
            , type: 'pie'
        }
        , title: {
            text: 'Ping Popularity January, 2017 to December, 2017'
        }
        , tooltip: {
            pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
        }
        , plotOptions: {
            pie: {
                allowPointSelect: true
                , cursor: 'pointer'
                , dataLabels: {
                    enabled: true
                    , format: '<b>{point.name}</b>: {point.percentage:.1f} %'
                    , style: {
                        color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black'
                    }
                    , connectorColor: 'silver'
                }
            }
        }
        , series: [{
            name: 'Pings'
            , data: [
                {
                    name: 'Thanks'
                    , y: 25.95
                }
                , {
                    name: 'Happy'
                    , y: 25.13
                    , sliced: true
                    , selected: true
            }
                , {
                    name: 'Love'
                    , y: 24.61
                }
                , {
                    name: 'Sad'
                    , y: 24.57
                }
                , {
                    name: 'Change'
                    , y: 24.85
                }
        , ]
    }]
    });
    Highcharts.chart('bchart', {
        title: {
            text: 'Ping At a Glance'
        }
        , xAxis: {
            categories: ['Q1', 'Q2', 'Q3', 'Q4']
        }
        , series: [{
            type: 'column'
            , name: 'Love'
            , data: [3, 2, 1, 3]
    }, {
            type: 'column'
            , name: 'Sad'
            , data: [2, 3, 5, 7]
    }, {
            type: 'column'
            , name: 'Change'
            , data: [4, 3, 3, 9]
    }, {
            type: 'column'
            , name: 'Thanks'
            , data: [4, 3, 3, 9]
    }, {
            type: 'column'
            , name: 'Happy'
            , data: [4, 3, 3, 9]
    }, {
            type: 'spline'
            , name: 'Average'
            , data: [3, 2.67, 3, 6.33]
            , marker: {
                lineWidth: 2
                , lineColor: Highcharts.getOptions().colors[3]
                , fillColor: 'white'
            }
    }]
    });
</script>

</html>
